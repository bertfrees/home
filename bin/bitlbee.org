* Bitlbee

#+NAME: bitlbee
#+BEGIN_SRC clojure :tangle bitlbee :tangle-mode (identity #o755)
#!/usr/bin/env bb

;; This file is automatically generated from bitlbee.org. Don't make
;; changes to this file directly.

(require '[babashka.process :refer [exec sh]]
         '[clojure.java.io :as io])

(let [bitlbee (io/file "/usr/local/sbin/bitlbee")]
  (let [home-dir (.getParentFile (.getParentFile (io/file *file*)))]
    (when (not (= 0 (:exit (sh {:dir home-dir :out :inherit :err :inherit}
                               "bin/make" (.getPath bitlbee)))))
      (System/exit 1))
    (apply exec bitlbee "-d" (.getAbsolutePath (io/file home-dir ".config/bitlbee")) ,*command-line-args*)))
#+END_SRC

